(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bc74010"],{"0d0e":function(t,e,i){},"1a4f":function(t,e,i){},2486:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"subjectiveDetails"},[i("teacher-header",{attrs:{header:t.header}}),t.pageShow?i("scroll-content",{ref:"myscrollfull",attrs:{mescrollValue:t.mescrollValue},on:{reload:t.reloadData}},[i("div",{staticClass:"subjective_warp"},[i("div",{staticClass:"topic",domProps:{innerHTML:t._s(t.studentList.questionContent)}},[t._v("\n                "+t._s(t.studentList.questionContent)+"\n            ")]),i("PopupPic",{attrs:{questionPic:t.studentList.questionPic}})],1),i("div",{staticClass:"tips"},[t._v("\n            提交人数："+t._s(t.initial.count)+"人\n        ")]),i("div",{attrs:{id:"subjectiveChart"}}),i("div",{staticClass:"subjectiveTitle"},[i("span",{staticClass:"icon"}),i("span",{staticClass:"title"},[t._v("学生列表")])]),i("student-list",{attrs:{studentList:t.studentList}})],1):t._e(),t.loading?i("loading"):t._e()],1)},a=[],n=(i("ac6a"),i("96cf"),i("1da1")),r=i("be94"),o=i("d67f"),c=i("15d6"),u=i("dc41"),l=i("711b"),d=i("8c36"),h=i("2f62"),f=i("4585"),m={components:{TeacherHeader:o["a"],ScrollContent:c["a"],StudentList:u["a"],Loading:d["a"],PopupPic:f["a"]},data:function(){return{mescrollValue:{up:!1,down:!0},loading:!0,pageShow:!1,header:{title:"",url:"/TClassroom"},studentCount:"",studentList:{},initial:{count:""}}},computed:Object(r["a"])({},Object(h["b"])(["topicId","courseId","title"])),mounted:function(){this.getStudent()},methods:{getStudent:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,i,s,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,Object(l["h"])(e.topicId);case 3:return i=t.sent,e.studentList=i.data.data,e.supplementStudentList(e.studentList.answerForStudent),t.next=8,Object(l["e"])(e.courseId);case 8:return s=t.sent,e.studentCount=s.data.data.studentCount,t.next=12,Object(l["j"])(e.courseId);case 12:a=t.sent,this.pageShow=!0,this.loading=!1,n=a.data.data.list,n.forEach(function(t){t.questionId===e.topicId&&(e.initial.count=t.count)}),this.drawLine(),this.header.title=this.title;case 19:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),drawLine:function(){this.$nextTick(function(){var t=this.$echarts.init(document.getElementById("subjectiveChart"));t.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",top:0,left:0,itemGap:35,bottom:"bottom",data:[{name:"提交",icon:"circle"},{name:"未提交",icon:"circle"}],formatter:function(t){return t}},series:[{name:"主观题",type:"pie",radius:"70%",center:["70%","55%"],data:[{value:this.initial.count,name:"提交"},{value:this.studentCount-this.initial.count,name:"未提交"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],color:["rgba(103,233,117,1)","rgba(48,154,60,1)"]})})},reloadData:function(){var t=this;setTimeout(function(){t.getStudent(),t.$refs.myscrollfull.endSuccess()},2e3)},supplementStudentList:function(t){for(var e=JSON.parse(sessionStorage.getItem("curClassStudentsList")),i=[],s=0;s<e.length;s++){for(var a=!1,n=0;n<t.length;n++)if(e[s].studentId===t[n].studentId){a=!0;break}a||i.push(e[s])}console.log(i),i.forEach(function(e){e.result="NONE",t.push(e)})}}},p=m,g=(i("3e84"),i("2877")),v=Object(g["a"])(p,s,a,!1,null,null,null);v.options.__file="subjective.vue";e["default"]=v.exports},"337d":function(t,e,i){"use strict";var s=i("0d0e"),a=i.n(s);a.a},"3e84":function(t,e,i){"use strict";var s=i("1a4f"),a=i.n(s);a.a},4585:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"popupPic"},[t.questionPic?i("div",{staticClass:"remind",on:{click:function(e){e.stopPropagation(),t.picimg(t.questionPic)}}},[t._v("\n    （点开查看图片）\n  ")]):t._e(),t.dsadsa?i("div",{staticClass:"bigimg"},[i("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.picimgshow(e)}}},[t._v("x")]),i("div",{staticClass:"img"},[i("img",{class:{imgwidth:t.imgwidth,imgheight:t.imgheight},attrs:{src:t.bigimg,alt:""}})])]):t._e()])},a=[],n=(i("a481"),i("711b")),r={name:"PopupPic",props:{questionPic:{type:String,default:null}},data:function(){return{bigimg:"",dsadsa:!1,imgwidth:!1,imgheight:!1}},mounted:function(){this.ifimg()},methods:{ifimg:function(){if(this.bigimg){var t=new Image;t.src=this.bigimg,console.log(t.width,t.height),t.width>t.height?(this.imgwidth=!0,this.imgheight=!1):(this.imgwidth=!1,this.imgheight=!0)}},picimgshow:function(){var t=this;t.dsadsa=!1},picimg:function(t){var e=this,i=this;i.dsadsa=!0,""===this.bigimg&&Object(n["i"])(t).then(function(t){i.bigimg="data:image/png;base64,"+t.data.data.content.replace(",",""),e.ifimg()})}}},o=r,c=(i("e5b8"),i("2877")),u=Object(c["a"])(o,s,a,!1,null,"09727270",null);u.options.__file="PopupPic.vue";e["a"]=u.exports},a879:function(t,e,i){},ac6a:function(t,e,i){for(var s=i("cadf"),a=i("0d58"),n=i("2aba"),r=i("7726"),o=i("32e9"),c=i("84f2"),u=i("2b4c"),l=u("iterator"),d=u("toStringTag"),h=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=a(f),p=0;p<m.length;p++){var g,v=m[p],b=f[v],_=r[v],S=_&&_.prototype;if(S&&(S[l]||o(S,l,h),S[d]||o(S,d,v),c[v]=h,b))for(g in s)S[g]||n(S,g,s[g],!0)}},b865:function(t,e,i){"use strict";var s=i("a879"),a=i.n(s);a.a},d67f:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"classroomHeader"},[t.header.url?i("router-link",{staticClass:"previous_page item",attrs:{tag:"div",to:t.header.url}},[t._v("返回\n    ")]):t._e(),i("div",{staticClass:"title item"},[t._v(t._s(t.header.title))]),""!==t.jump.name?i("router-link",{staticClass:"jump item",attrs:{to:t.jump.url,tag:"div"}},[t._v(t._s(t.jump.name))]):t._e()],1)},a=[],n={name:"classroomHeader",props:{header:{type:Object,default:function(){return{}}},jump:{tyPe:Object,default:function(){return{name:"",url:""}}}},data:function(){return{}},methods:{backPage:function(){this.$emit("backPage")}}},r=n,o=(i("b865"),i("2877")),c=Object(o["a"])(r,s,a,!1,null,null,null);c.options.__file="PublicHeader.vue";e["a"]=c.exports},db75:function(t,e,i){},dc41:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"studentList"},t._l(t.studentList.answerForStudent,function(e,s){return i("div",{key:s,staticClass:"studentList_warp"},[i("div",{staticClass:"left"},[i("div",{staticClass:"studentName"},[t._v(t._s(e.studentName))])]),"objective"===t.studentList.quesetionType?i("div",{staticClass:"right"},[i("div",{staticClass:"studentSelect"},[t._v(t._s(e.answerForObjective))]),"CORRECT"===e.result?i("div",{staticClass:"state correct"},[t._v("正确")]):t._e(),"WRONG"===e.result?i("div",{staticClass:"state look"},[t._v("错误")]):t._e(),"NONE"===e.result?i("div",{staticClass:"state unsubmitted"},[t._v("未提交")]):t._e()]):t._e(),"subjective"===t.studentList.quesetionType?i("div",{staticClass:"right"},[i("div",{staticClass:"studentSelect"},[t._v(t._s(e.subjectiveScore))]),"NONE"===e.result?i("div",{staticClass:"state unsubmitted"},[t._v("未提交")]):t._e(),"NONE"!==e.result&&"PASS"!==e.result?i("div",{staticClass:"state correct",on:{click:function(i){t.correct(e.studentId)}}},[t._v("\n                批改\n            ")]):t._e(),"PASS"===e.result?i("div",{staticClass:"state look",on:{click:function(i){t.correct(e.studentId)}}},[t._v("查看\n            ")]):t._e()]):t._e()])}))},a=[],n=i("4360"),r={name:"studentList",props:{studentList:{type:Object,default:function(){return{}}},allShow:{type:Boolean,default:!0}},data:function(){return{arr:[],selected:[],allState:!1}},watch:{studentList:{handler:function(){this.arr=[];for(var t=0;t<this.studentList.length;t++)this.arr.push(!1),console.log(1);console.log(this.arr)},immediate:!0,deep:!0}},methods:{select:function(t,e){if(!0===this.arr[t]){this.arr.splice(t,1,!1);for(var i=0;i<this.selected.length;i++)this.selected[i]===e&&(Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)},this.selected.remove(e))}else this.arr.splice(t,1,!0),this.selected.push(e);for(var s,a=0;a<this.arr.length;a++)!1===this.arr[a]&&(s=!1);this.allState=!1!==s},allSelect:function(){for(var t,e=[],i=0;i<this.arr.length;i++)!1===this.arr[i]&&(t=!1);if(!1===t){for(var s=0;s<this.arr.length;s++)e.push(!0);this.arr=e,this.allState=!0}else{for(var a=0;a<this.arr.length;a++)e.push(!1);this.arr=e,this.allState=!1}console.log(this.arr)},correct:function(t){n["a"].commit("SET_STUDENTID",t),this.$router.push({path:"@/pages/teacher/classroom/show-subjective",name:"subjectiveShow"})}}},o=r,c=(i("337d"),i("2877")),u=Object(c["a"])(o,s,a,!1,null,null,null);u.options.__file="studentList.vue";e["a"]=u.exports},e5b8:function(t,e,i){"use strict";var s=i("db75"),a=i.n(s);a.a}}]);