(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-353728b2"],{"008f":function(t,s,e){t.exports=e.p+"img/classroom.5ba8854a.png"},"11e0":function(t,s,e){t.exports=e.p+"img/政治_03.a9be9fa2.png"},"1a10":function(t,s,e){},"1eb9":function(t,s,e){t.exports=e.p+"img/地理_03.931a0491.png"},3632:function(t,s,e){t.exports=e.p+"img/化学_03.5824189b.png"},"38b5":function(t,s,e){t.exports=e.p+"img/男学生.478830f1.png"},"3d56":function(t,s,e){"use strict";var a=e("cbc1"),i=e.n(a);i.a},"3ff4":function(t,s,e){t.exports=e.p+"img/女学生.d56f6378.png"},"4eeb":function(t,s,e){t.exports=e.p+"img/数学_03.54dc204a.png"},"50ae":function(t,s,e){t.exports=e.p+"img/英语_03.89d9615c.png"},5543:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"student"},[e("classroom",{directives:[{name:"show",rawName:"v-show",value:0===t.linkState,expression:"linkState === 0"}],on:{message:function(s){t.zxc(s)},messageout:function(s){t.qwe(s)}}}),e("homework",{directives:[{name:"show",rawName:"v-show",value:1===t.linkState,expression:"linkState === 1"}]}),e("my",{directives:[{name:"show",rawName:"v-show",value:2===t.linkState,expression:"linkState === 2"}]}),e("div",{staticClass:"footers"},t._l(t.footerArr,function(s,a){return e("div",{key:s.index,staticClass:"link",class:{link_hover:a===t.linkState},on:{click:function(s){t.State(a)}}},[0==a&&t.Message?e("div",{staticClass:"msg"}):t._e(),e("span",{staticClass:"iconfont icon",domProps:{innerHTML:t._s(s.icon)}}),e("div",{staticClass:"text"},[t._v(t._s(s.text))])])}))],1)},i=[],n=(e("7f7f"),e("be94")),o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"classroomList"},[a("public-header",{attrs:{header:t.header}}),t.pageShow?a("scroll-content",{ref:"myscrollfull",attrs:{tips:t.tips},on:{load:t.loadData,reload:t.reloadData}},[t.classNew?a("div",{staticClass:"tips"},[a("span",{staticClass:"point"}),a("span",{staticClass:"text"},[t._v("老师布置了新题目")])]):t._e(),t._l(t.classList,function(s,i){return a("div",{key:i,staticClass:"list",class:{nowClass:"PROGRESS"===s.courseStatus,newClass:1==t.newborder&&0==i},on:{click:function(e){t.goClassroom(s.courseId,s.courseName)}}},[a("div",{staticClass:"subject"},[a("div",{staticClass:"subject_img"},[null==s.subjectId?a("img",{attrs:{src:e("008f")}}):t._e(),1==s.subjectId?a("img",{attrs:{src:e("9ee1")}}):t._e(),2==s.subjectId?a("img",{attrs:{src:e("4eeb")}}):t._e(),3==s.subjectId?a("img",{attrs:{src:e("50ae")}}):t._e(),4==s.subjectId?a("img",{attrs:{src:e("e1f0")}}):t._e(),5==s.subjectId?a("img",{attrs:{src:e("1eb9")}}):t._e(),6==s.subjectId?a("img",{attrs:{src:e("11e0")}}):t._e(),7==s.subjectId?a("img",{attrs:{src:e("be85")}}):t._e(),8==s.subjectId?a("img",{attrs:{src:e("a0cf")}}):t._e(),9==s.subjectId?a("img",{attrs:{src:e("3632")}}):t._e()]),a("div",{staticClass:"subject_details"},[a("p",{staticClass:"name"},[t._v(t._s(s.courseName))]),a("p",{staticClass:"teacher"},[t._v("任课老师："+t._s(s.teacherName))]),"FINISH"===s.courseStatus?a("p",{staticClass:"time"},[a("span",{staticClass:"iconfont"},[t._v("")]),a("span",[t._v(t._s(t.time(s.courseEndTime)))])]):t._e()])]),"PROGRESS"===s.courseStatus?a("div",{staticClass:"subjectState processing"},[t._v("课程进行中")]):t._e(),"NOTSTART"===s.courseStatus?a("div",{staticClass:"subjectState startTime"},[t._v("开始时间："+t._s(t.time(s.courseStartTime)))]):t._e(),"FINISH"===s.courseStatus?a("div",{staticClass:"subjectState end"},[t._v("已结束")]):t._e()])}),t.classroomState?a("div",{staticClass:"history"},[t._v("上拉查看历史信息")]):t._e()],2):t._e(),t.loading?a("loading"):t._e()],1)},c=[],r=(e("5fc6"),e("5af2")),l=e.n(r),u=e("d67f"),d=e("15d6"),m=e("8c36"),h=e("399a"),g=e("2f62"),f=e("4360"),p=e("cc7d"),v=e.n(p),_=e("74d1"),C=e.n(_),b={components:{PublicHeader:u["a"],ScrollContent:d["a"],Loading:m["a"]},data:function(){return{current:"",newborder:0,classroomPage:100,classroomState:!0,loading:!0,pageShow:!1,classList:[],classNew:"",header:{title:"课堂列表"},tips:"没有更多课堂列表",wsUrl:"http://school.jichuangsi.com:81",stompClient:null,subscription:null,token:localStorage.getItem("token"),classId:""}},computed:Object(n["a"])({},Object(g["b"])(["classroomList"])),mounted:function(){this.classId=JSON.parse(localStorage.getItem("user")).roles[0].primaryClass.classId,0===this.classroomList.length?this.getClassroomList():(this.pageShow=!0,this.loading=!1),this.connect()},methods:{getClassroomList:function(){var t=this;this.$store.dispatch("getClassList").then(function(s){t.pageShow=!0,t.loading=!1,t.classList=t.classroomList,console.log(t.classList)}).catch(function(t){console.log("err",t)})},loadData:function(t){var s=this;setTimeout(function(){Object(h["d"])(t).then(function(e){console.log(e.data.data.content),f["a"].commit("SET_HISTORY",e.data.data.content),s.classList=s.classroomList,s.classroomPage=e.data.data.pageCount,s.classroomPage===t&&(s.classroomState=!1),s.$refs.myscrollfull.endByPage(e.data.data.pageSize,e.data.data.pageCount)}).catch(function(t){console.log(t)})},2e3)},reloadData:function(){var t=this;setTimeout(function(){t.getClassroomList(),t.$refs.myscrollfull.endSuccess()},1e3)},time:function(t){var s=parseInt(t),e=new Date(s),a=e.getMonth()+1>10?0+(e.getMonth()+1):e.getMonth()+1,i=e.getDate(),n=e.getHours(),o=e.getMinutes();return a+"月"+i+"日\t"+n+":"+o},goClassroom:function(t,s){t===this.current&&(this.newborder=0,this.$emit("messageout",null)),this.$router.push({path:"@/pages/student/classroom/show",name:"classroom",query:{courseId:t,courseName:s}}),Object(h["h"])(t).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},connect:function(){var t=new v.a(this.wsUrl+"/websocket/course");this.stompClient=C.a.over(t),this.stompClient.heartbeat.outgoing=4e5,this.stompClient.heartbeat.incoming=0;var s={login:"mylogin",passcode:"mypasscode",userId:"curUserId",accessToken:this.token},e=this;this.stompClient.connect(s,function(t){console.log("Connected:"+t);var s={userId:"curUserId",accessToken:e.token};e.subscription=e.stompClient.subscribe("/topic/group/student/"+e.classId,function(t){e.classData(t)},s)})},classData:function(t){var s=JSON.parse(t.body);if(console.log(s),s.data)for(var e=0;e<this.classList.length;e++)if(s.data.courseId===this.classList[e].courseId){this.classList[e].courseStatus="PROGRESS",this.current=this.classList[e].courseId;var a=e,i=this.classList.splice(a,1)[0];this.classList.unshift(i),this.newborder=1,this.$emit("message","提示"),l()({message:this.classList[0].courseName+"上课了",position:"middle",duration:5e3})}}},beforeDestroy:function(){this.stompClient.unsubscribe("/topic/group/student/"+this.classId)}},k=b,w=(e("e6ae"),e("2877")),S=Object(w["a"])(k,o,c,!1,null,"bf1997b4",null);S.options.__file="classroom.vue";var x=S.exports,y=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"homeWork"},[e("public-header",{attrs:{header:t.header}}),t.pageShow?e("scroll-content",{ref:"myscrollfull",attrs:{list:t.list,tips:t.tips},on:{load:t.loadData,reload:t.reloadData}},[e("div",{attrs:{slot:"empty"},slot:"empty"},[t._v("无任何数据")]),e("div",{staticClass:"PublicHomeWork"},[t._l(t.pendingList,function(s){return e("div",{key:s.index,staticClass:"task_content"},[e("h1",{staticClass:"title pendingTitle"},[t._v(t._s(s.date))]),e("div",{staticClass:"task_warp"},t._l(s.content,function(s){return e("router-link",{key:s.index,staticClass:"task",class:{violet:1==s.state,green:2==s.state,yellow:3==s.state},attrs:{tag:"div",to:"/objectiveWork"}},[e("span",{staticClass:"task_name"},[t._v(t._s(s.title))]),e("span",{staticClass:"teacher"},[t._v("任课老师："+t._s(s.teacher))]),1==s.state?e("span",{staticClass:"state"},[t._v("未完成")]):t._e(),2==s.state?e("span",{staticClass:"state"},[t._v("已完成")]):t._e(),3==s.state?e("span",{staticClass:"state"},[t._v("已批改")]):t._e()])}))])}),t._l(t.nowList,function(s){return e("div",{key:s.index,staticClass:"task_content"},[e("h1",{staticClass:"title"},[t._v(t._s(s.date))]),e("div",{staticClass:"task_warp"},t._l(s.content,function(s){return e("router-link",{key:s.index,staticClass:"task",class:{violet:1==s.state,green:2==s.state,yellow:3==s.state},attrs:{tag:"div",to:"/objectiveWork"}},[e("span",{staticClass:"task_name"},[t._v(t._s(s.title))]),e("span",{staticClass:"teacher"},[t._v("任课老师："+t._s(s.teacher))]),1==s.state?e("span",{staticClass:"state"},[t._v("未完成")]):t._e(),2==s.state?e("span",{staticClass:"state"},[t._v("已完成")]):t._e(),3==s.state?e("span",{staticClass:"state"},[t._v("已批改")]):t._e()])}))])}),t.list.length?t._e():e("div",{staticClass:"history"},[t._v("上拉查看历史信息")]),t._l(t.list,function(s){return e("div",{key:s.index,staticClass:"task_content"},[e("h1",{staticClass:"title"},[t._v(t._s(s.date))]),e("div",{staticClass:"task_warp"},t._l(s.content,function(s){return e("router-link",{key:s.index,staticClass:"task",class:{violet:1==s.state,green:2==s.state,yellow:3==s.state},attrs:{tag:"div",to:"/objectiveWork"}},[e("span",{staticClass:"task_name"},[t._v(t._s(s.title))]),e("span",{staticClass:"teacher"},[t._v("任课老师："+t._s(s.teacher))]),1==s.state?e("span",{staticClass:"state"},[t._v("未完成")]):t._e(),2==s.state?e("span",{staticClass:"state"},[t._v("已完成")]):t._e(),3==s.state?e("span",{staticClass:"state"},[t._v("已批改")]):t._e()])}))])})],2)]):t._e(),t.loading?e("loading"):t._e()],1)},j=[],I={data:function(){return{header:{title:"作业"},title:"作业簿",nowList:[{date:"今天",content:[{title:"一课一练",teacher:"韩梅梅",state:"1"},{title:"一课一练",teacher:"韩梅梅",state:"2"},{title:"一课一练",teacher:"韩梅梅",state:"2"}]},{date:"今天",content:[{title:"一课一练",teacher:"韩梅梅",state:"1"},{title:"一课一练",teacher:"韩梅梅",state:"2"},{title:"一课一练",teacher:"韩梅梅",state:"2"}]},{date:"今天",content:[{title:"一课一练",teacher:"韩梅梅",state:"1"},{title:"一课一练",teacher:"韩梅梅",state:"2"},{title:"一课一练",teacher:"韩梅梅",state:"2"}]}],list:[],pendingList:[{date:"待完成",content:[{title:"一课一练",teacher:"韩梅梅",state:"1"},{title:"一课一练",teacher:"韩梅梅",state:"1"},{title:"一课一练",teacher:"韩梅梅",state:"1"},{title:"一课一练",teacher:"韩梅梅",state:"1"}]}],loading:!0,pageShow:!1,tips:"没有更多作业"}},components:{PublicHeader:u["a"],ScrollContent:d["a"],Loading:m["a"]},mounted:function(){this.getHomeWork()},methods:{getHomeWork:function(){this.pageShow=!0,this.loading=!1},loadData:function(t){var s=this;setTimeout(function(){1===t&&(s.list=[]);var e=s;s.api.getHomeWork().then(function(t){e.list=t.data.homeWork,e.pageShow=!0,e.loading=!1,e.$refs.myscrollfull.endByPage(1,1)}).catch(function(t){console.log("err",t)})},2e3)},reloadData:function(){var t=this;setTimeout(function(){console.log("数据更新完成"),t.$refs.myscrollfull.endSuccess()},1e3)}}},L=I,O=(e("3d56"),Object(w["a"])(L,y,j,!1,null,null,null));O.options.__file="homework.vue";var T=O.exports,$=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"My"},[e("div",{staticClass:"top"},[e("h2",[t._v("个人中心")]),e("div",{staticClass:"fr"},[e("router-link",{attrs:{to:"/myShow"}},[e("i",{staticClass:"iconfont icon-shezhi",staticStyle:{"font-size":"2rem"}}),t._v("设置\n            ")])],1)]),e("div",{staticClass:"center"},[e("div",{staticClass:"user"},[e("div",{staticClass:"userimg"},[e("div",{staticClass:"img"},[e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.userimg,alt:""}})])]),e("div",{staticClass:"username"},[t._v(t._s(t.username))]),e("div",{staticClass:"usertext"},[t._v(t._s(t.usertext))])]),e("div",{staticClass:"nav"},[e("ul",[e("router-link",{attrs:{to:"/studentenquiry"}},[e("li",[e("div",{staticClass:"left"},[t._v("我的成绩")]),e("div",{staticClass:"right"},[e("i",{staticClass:"iconfont icon-icon-arrow-right2"})])])]),e("router-link",{attrs:{to:"/studenthomework"}},[e("li",[e("div",{staticClass:"left"},[t._v("作业详情")]),e("div",{staticClass:"right"},[e("i",{staticClass:"iconfont icon-icon-arrow-right2"})])])]),e("router-link",{attrs:{to:"/studentCollection"}},[e("li",[e("div",{staticClass:"left"},[t._v("我的收藏")]),e("div",{staticClass:"right"},[e("i",{staticClass:"iconfont icon-icon-arrow-right2"})])])]),e("router-link",{attrs:{to:"/mistakescollection"}},[e("li",[e("div",{staticClass:"left"},[t._v("错题集")]),e("div",{staticClass:"right"},[e("i",{staticClass:"iconfont icon-icon-arrow-right2"})])])]),e("li",{on:{click:t.loginout}},[e("div",{staticClass:"left"},[t._v("退出登录")]),t._m(0)])],1)])]),t.loading?e("loading"):t._e()],1)},N=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"right"},[e("i",{staticClass:"iconfont icon-icon-arrow-right2"})])}],P={name:"my",components:{Loading:m["a"]},data:function(){return{loading:!0,pageShow:!1,username:"韩梅梅",usertext:"学如逆水行舟，不进则退。",userimg:""}},mounted:function(){this.getMy()},methods:{getMy:function(){this.pageShow=!0,this.loading=!1;var t=JSON.parse(localStorage.getItem("user"));"FEMALE"==t.userSex?this.userimg=e("3ff4"):this.userimg=e("38b5"),this.username=t.userName},loginout:function(){localStorage.removeItem("token"),window.HandwrittenBoard.disconnect(),this.$router.push({path:"/",name:"login"})}}},H=P,E=(e("62b4"),Object(w["a"])(H,$,N,!1,null,"389f1d10",null));E.options.__file="my.vue";var D=E.exports,M={name:"student",components:{classroom:x,homework:T,my:D},data:function(){return{Message:"",linkState:0,footerArr:[{icon:"&#xe617;",text:"课堂"},{icon:"&#xe618;",text:"作业"},{icon:"&#xe616;",text:"我的"}]}},computed:Object(n["a"])({},Object(g["b"])(["setState","isBlueTooth"])),methods:{qwe:function(t){this.Message=t},zxc:function(t){this.Message=t},State:function(t){this.linkState=t}},beforeRouteEnter:function(t,s,e){"classroom"==s.name||"objectiveWork"==s.name||"subjectiveWork"==s.name||"myShow"==s.name?(t.meta.isBack=!0,e()):e()},activated:function(){this.$route.meta.isBack||setTimeout(function(){},1e3),this.$route.meta.isBack=!1}},W=M,R=(e("ec90"),Object(w["a"])(W,a,i,!1,null,null,null));R.options.__file="index.vue";s["default"]=R.exports},"62b4":function(t,s,e){"use strict";var a=e("b30b"),i=e.n(a);i.a},"9ee1":function(t,s,e){t.exports=e.p+"img/语文_03.551dcdb4.png"},a0cf:function(t,s,e){t.exports=e.p+"img/物理_03.5d7bde16.png"},a4c9:function(t,s,e){},a879:function(t,s,e){},b30b:function(t,s,e){},b865:function(t,s,e){"use strict";var a=e("a879"),i=e.n(a);i.a},be85:function(t,s,e){t.exports=e.p+"img/生物_03.b5bc8e45.png"},cbc1:function(t,s,e){},d67f:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"classroomHeader"},[t.header.url?e("router-link",{staticClass:"previous_page item",attrs:{tag:"div",to:t.header.url}},[t._v("返回\n    ")]):t._e(),e("div",{staticClass:"title item"},[t._v(t._s(t.header.title))]),""!==t.jump.name?e("router-link",{staticClass:"jump item",attrs:{to:t.jump.url,tag:"div"}},[t._v(t._s(t.jump.name))]):t._e()],1)},i=[],n={name:"classroomHeader",props:{header:{type:Object,default:function(){return{}}},jump:{tyPe:Object,default:function(){return{name:"",url:""}}}},data:function(){return{}},methods:{backPage:function(){this.$emit("backPage")}}},o=n,c=(e("b865"),e("2877")),r=Object(c["a"])(o,a,i,!1,null,null,null);r.options.__file="PublicHeader.vue";s["a"]=r.exports},e1f0:function(t,s,e){t.exports=e.p+"img/历史_03.b38afcce.png"},e6ae:function(t,s,e){"use strict";var a=e("a4c9"),i=e.n(a);i.a},ec90:function(t,s,e){"use strict";var a=e("1a10"),i=e.n(a);i.a}}]);