(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17b92460"],{"0d0e":function(t,e,i){},"337d":function(t,e,i){"use strict";var s=i("0d0e"),a=i.n(s);a.a},4585:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"popupPic"},[t.questionPic?i("div",{staticClass:"remind",on:{click:function(e){e.stopPropagation(),t.picimg(t.questionPic)}}},[t._v("\n    （点开查看图片）\n  ")]):t._e(),t.dsadsa?i("div",{staticClass:"bigimg"},[i("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.picimgshow(e)}}},[t._v("x")]),i("div",{staticClass:"img"},[i("img",{class:{imgwidth:t.imgwidth,imgheight:t.imgheight},attrs:{src:t.bigimg,alt:""}})])]):t._e()])},a=[],n=(i("a481"),i("711b")),r={name:"PopupPic",props:{questionPic:{type:String,default:null}},data:function(){return{bigimg:"",dsadsa:!1,imgwidth:!1,imgheight:!1}},mounted:function(){this.ifimg()},methods:{ifimg:function(){if(this.bigimg){var t=new Image;t.src=this.bigimg,console.log(t.width,t.height),t.width>t.height?(this.imgwidth=!0,this.imgheight=!1):(this.imgwidth=!1,this.imgheight=!0)}},picimgshow:function(){var t=this;t.dsadsa=!1},picimg:function(t){var e=this,i=this;i.dsadsa=!0,""===this.bigimg&&Object(n["i"])(t).then(function(t){i.bigimg="data:image/png;base64,"+t.data.data.content.replace(",",""),e.ifimg()})}}},o=r,c=(i("e5b8"),i("2877")),l=Object(c["a"])(o,s,a,!1,null,"09727270",null);l.options.__file="PopupPic.vue";e["a"]=l.exports},"7bd4":function(t,e,i){},"7d6f":function(t,e,i){"use strict";var s=i("7bd4"),a=i.n(s);a.a},a879:function(t,e,i){},ac6a:function(t,e,i){for(var s=i("cadf"),a=i("0d58"),n=i("2aba"),r=i("7726"),o=i("32e9"),c=i("84f2"),l=i("2b4c"),u=l("iterator"),d=l("toStringTag"),h=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=a(f),v=0;v<m.length;v++){var p,g=m[v],b=f[g],_=r[g],C=_&&_.prototype;if(C&&(C[u]||o(C,u,h),C[d]||o(C,d,g),c[g]=h,b))for(p in s)C[p]||n(C,p,s[p],!0)}},b865:function(t,e,i){"use strict";var s=i("a879"),a=i.n(s);a.a},d67f:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"classroomHeader"},[t.header.url?i("router-link",{staticClass:"previous_page item",attrs:{tag:"div",to:t.header.url}},[t._v("返回\n    ")]):t._e(),i("div",{staticClass:"title item"},[t._v(t._s(t.header.title))]),""!==t.jump.name?i("router-link",{staticClass:"jump item",attrs:{to:t.jump.url,tag:"div"}},[t._v(t._s(t.jump.name))]):t._e()],1)},a=[],n={name:"classroomHeader",props:{header:{type:Object,default:function(){return{}}},jump:{tyPe:Object,default:function(){return{name:"",url:""}}}},data:function(){return{}},methods:{backPage:function(){this.$emit("backPage")}}},r=n,o=(i("b865"),i("2877")),c=Object(o["a"])(r,s,a,!1,null,null,null);c.options.__file="PublicHeader.vue";e["a"]=c.exports},db75:function(t,e,i){},dc09:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"objectiveQuestions"},[i("teacher-header",{attrs:{header:t.header}}),t.pageShow?i("scroll-content",{ref:"myscrollfull",attrs:{mescrollValue:t.mescrollValue},on:{reload:t.reloadData}},[i("div",{staticClass:"objective_warp"},[i("div",{staticClass:"topic",domProps:{innerHTML:t._s(t.objective.questionContent)}},[t._v("\n                "+t._s(t.objective.questionContent)+"\n            ")]),t._l(t.objective.options,function(e,s){return i("div",{key:s,staticClass:"select"},[i("div",{staticClass:"option"},[t._v(t._s(t.tab(s))+".")]),i("div",{staticClass:"text",domProps:{innerHTML:t._s(e)}},[t._v(t._s(e))])])}),i("PopupPic",{attrs:{questionPic:t.objective.questionPic}})],2),i("div",{staticClass:"tips"},[t._v("\n            提交人数："+t._s(t.initial.count)+"人，正确率"+t._s(100*t.initial.acc)+"%\n        ")]),i("div",{attrs:{id:"chart"}},[i("div",{attrs:{id:"objective"}}),i("div",{attrs:{id:"selectChart"}})]),i("div",{staticClass:"objectiveTitle"},[i("span",{staticClass:"icon"}),i("span",{staticClass:"title"},[t._v("学生列表")])]),i("student-list",{attrs:{studentList:t.objective,allShow:t.allShow}})],1):t._e(),t.loading?i("loading"):t._e()],1)},a=[],n=(i("ac6a"),i("96cf"),i("1da1")),r=i("be94"),o=i("d67f"),c=i("15d6"),l=i("dc41"),u=i("711b"),d=i("8c36"),h=i("2f62"),f=i("4585"),m={components:{TeacherHeader:o["a"],ScrollContent:c["a"],StudentList:l["a"],Loading:d["a"],PopupPic:f["a"]},data:function(){return{total:{submited:0,all:0},mescrollValue:{up:!1,down:!0},loading:!0,pageShow:!1,header:{title:"",url:"/TClassroom"},objective:{},allShow:!1,studentCount:"",initial:{acc:"",count:""}}},computed:Object(r["a"])({},Object(h["b"])(["topicId","courseId","title"])),mounted:function(){this.getObjectiveQuestions()},methods:{drawLine1:function(){this.$nextTick(function(){var t=this.$echarts.init(document.getElementById("objective"));t.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",left:"left",top:0,data:[{name:"提交",icon:"circle"},{name:"未提交",icon:"circle"}],formatter:function(t){return t}},series:[{name:"客观题",type:"pie",radius:"50%",center:["50%","60%"],data:[{value:this.total.submited,name:"提交"},{value:this.total.all-this.total.submited,name:"未提交"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],color:["rgba(103,233,117,1)","rgba(48,154,60,1)"]})})},drawLine2:function(){this.$nextTick(function(){var t=this.$echarts.init(document.getElementById("selectChart"));t.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",left:"left",top:"0",width:150,data:[{name:"正确",icon:"circle"},{name:"错误",icon:"circle"}],formatter:function(t){return t}},series:[{name:"客观题",type:"pie",radius:"50%",center:["50%","60%"],data:[{value:this.initial.acc,name:"正确"},{value:1-this.initial.acc,name:"错误"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],color:["rgba(103,216,233,1)","rgba(48,137,154,1)","rgba(48,83,154,1)","rgba(68,48,154,1)"]})})},getObjectiveQuestions:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,i,s,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,Object(u["h"])(e.topicId);case 3:return i=t.sent,e.objective=i.data.data,e.supplementStudentList(e.objective.answerForStudent),t.next=8,Object(u["e"])(e.courseId);case 8:return s=t.sent,e.studentCount=s.data.data.studentCount,t.next=12,Object(u["j"])(e.courseId);case 12:a=t.sent,e.pageShow=!0,e.loading=!1,n=a.data.data.list,n.forEach(function(t){t.questionId===e.topicId&&(e.initial.acc=t.acc,e.initial.count=t.count)}),e.total.all=e.studentCount,e.total.submited=e.initial.count,e.drawLine1(),e.drawLine2(),e.header.title=e.title;case 22:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),tab:function(t){var e=65+t;return String.fromCharCode(e)},reloadData:function(){var t=this;setTimeout(function(){t.getObjectiveQuestions(),t.$refs.myscrollfull.endSuccess()},2e3)},supplementStudentList:function(t){for(var e=JSON.parse(sessionStorage.getItem("curClassStudentsList")),i=[],s=0;s<e.length;s++){for(var a=!1,n=0;n<t.length;n++)if(e[s].studentId===t[n].studentId){a=!0;break}a||i.push(e[s])}console.log(i),i.forEach(function(e){e.result="NONE",t.push(e)})}}},v=m,p=(i("7d6f"),i("2877")),g=Object(p["a"])(v,s,a,!1,null,null,null);g.options.__file="show-objective.vue";e["default"]=g.exports},dc41:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"studentList"},t._l(t.studentList.answerForStudent,function(e,s){return i("div",{key:s,staticClass:"studentList_warp"},[i("div",{staticClass:"left"},[i("div",{staticClass:"studentName"},[t._v(t._s(e.studentName))])]),"objective"===t.studentList.quesetionType?i("div",{staticClass:"right"},[i("div",{staticClass:"studentSelect"},[t._v(t._s(e.answerForObjective))]),"CORRECT"===e.result?i("div",{staticClass:"state correct"},[t._v("正确")]):t._e(),"WRONG"===e.result?i("div",{staticClass:"state look"},[t._v("错误")]):t._e(),"NONE"===e.result?i("div",{staticClass:"state unsubmitted"},[t._v("未提交")]):t._e()]):t._e(),"subjective"===t.studentList.quesetionType?i("div",{staticClass:"right"},[i("div",{staticClass:"studentSelect"},[t._v(t._s(e.subjectiveScore))]),"NONE"===e.result?i("div",{staticClass:"state unsubmitted"},[t._v("未提交")]):t._e(),"NONE"!==e.result&&"PASS"!==e.result?i("div",{staticClass:"state correct",on:{click:function(i){t.correct(e.studentId)}}},[t._v("\n                批改\n            ")]):t._e(),"PASS"===e.result?i("div",{staticClass:"state look",on:{click:function(i){t.correct(e.studentId)}}},[t._v("查看\n            ")]):t._e()]):t._e()])}))},a=[],n=i("4360"),r={name:"studentList",props:{studentList:{type:Object,default:function(){return{}}},allShow:{type:Boolean,default:!0}},data:function(){return{arr:[],selected:[],allState:!1}},watch:{studentList:{handler:function(){this.arr=[];for(var t=0;t<this.studentList.length;t++)this.arr.push(!1),console.log(1);console.log(this.arr)},immediate:!0,deep:!0}},methods:{select:function(t,e){if(!0===this.arr[t]){this.arr.splice(t,1,!1);for(var i=0;i<this.selected.length;i++)this.selected[i]===e&&(Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)},this.selected.remove(e))}else this.arr.splice(t,1,!0),this.selected.push(e);for(var s,a=0;a<this.arr.length;a++)!1===this.arr[a]&&(s=!1);this.allState=!1!==s},allSelect:function(){for(var t,e=[],i=0;i<this.arr.length;i++)!1===this.arr[i]&&(t=!1);if(!1===t){for(var s=0;s<this.arr.length;s++)e.push(!0);this.arr=e,this.allState=!0}else{for(var a=0;a<this.arr.length;a++)e.push(!1);this.arr=e,this.allState=!1}console.log(this.arr)},correct:function(t){n["a"].commit("SET_STUDENTID",t),this.$router.push({path:"@/pages/teacher/classroom/show-subjective",name:"subjectiveShow"})}}},o=r,c=(i("337d"),i("2877")),l=Object(c["a"])(o,s,a,!1,null,null,null);l.options.__file="studentList.vue";e["a"]=l.exports},e5b8:function(t,e,i){"use strict";var s=i("db75"),a=i.n(s);a.a}}]);